# üõ∏ Xenus DT1 Decompiler

[![Platform](https://img.shields.io/badge/platform-Windows-blue.svg)](https://www.microsoft.com/windows)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Build](https://img.shields.io/badge/.NET-8.0-blueviolet.svg)](https://dotnet.microsoft.com/download)

–°–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —É—Ç–∏–ª—ñ—Ç–∞ –¥–ª—è —Ä–µ–≤–µ—Ä—Å-—ñ–Ω–∂–∏–Ω—ñ—Ä–∏–Ω–≥—É —Ç–∞ –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É—Ä –∫–µ—à—É (`*.DT1` / `*.DT2`) –≥—Ä–∏ **Xenus 2: White Gold** (–ë—ñ–ª–µ –∑–æ–ª–æ—Ç–æ).

## üí° –ß–æ–º—É —Ü–µ–π –ø—ñ–¥—Ö—ñ–¥ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π?

–î–∞–Ω—ñ –≤ —Ñ–æ—Ä–º–∞—Ç–∞—Ö `DT1/DT2` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–µ –¥–ª—è —Ä—É—à—ñ—è **Vital Engine 3** –ø–∞–∫—É–≤–∞–Ω–Ω—è (–º–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π `zlib` –∑ –ø—Ä–µ—Å–µ—Ç-—Å–ª–æ–≤–Ω–∏–∫–∞–º–∏). –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –Ω–∞–º–∞–≥–∞—Ç–∏—Å—è –≤—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏ —Å–∫–ª–∞–¥–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –∑ –Ω—É–ª—è, —Ü–µ–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **Native Interop** –¥–ª—è –≤–∏–∫–ª–∏–∫—É –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≥—Ä–∏ ‚Äî `VELoader.dll`.

–£—Ç–∏–ª—ñ—Ç–∞ –∑–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ –µ–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π:
* `GetCLVersion` ‚Äî –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ.
* `GetUnloadSize` ‚Äî –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ.
* `Unload` ‚Äî –¥–ª—è –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ—ó –¥–µ–∫–æ–º–ø—Ä–µ—Å—ñ—ó.

## üõ† –í–∏–º–æ–≥–∏

* **–û–°:** Windows (x86/x64)
* **Runtime:** [.NET SDK 8.0+](https://dotnet.microsoft.com/download/dotnet/8.0)
* **–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:** –ü—Ä–æ—î–∫—Ç –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –º–∞—î –±—É—Ç–∏ –∑—ñ–±—Ä–∞–Ω–∏–π –ø—ñ–¥ **x86**, –æ—Å–∫—ñ–ª—å–∫–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∞ DLL —î 32-–±—ñ—Ç–Ω–æ—é.
* **–ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:** –§–∞–π–ª `VELoader.dll` (–º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –≤ –∫–æ—Ä–µ–Ω–µ–≤—ñ–π –ø–∞–ø—Ü—ñ –≥—Ä–∏ –∞–±–æ –≤ –∞—Ä—Ö—ñ–≤–∞—Ö `GrpUnpacker`).

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```text
xenus-dt1-decompiler/
 ‚îú‚îÄ‚îÄ src/
 ‚îÇ    ‚îî‚îÄ‚îÄ XenusDt1Decompiler/
 ‚îÇ         ‚îú‚îÄ‚îÄ XenusDt1Decompiler.csproj
 ‚îÇ         ‚îî‚îÄ‚îÄ Program.cs
 ‚îú‚îÄ‚îÄ .gitignore
 ‚îî‚îÄ‚îÄ README.md

```

## üèó –ó–±—ñ—Ä–∫–∞

–î–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–∏–∫–æ–Ω—É–≤–∞–Ω–æ–≥–æ —Ñ–∞–π–ª—É –≤–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ:

```powershell
dotnet build .\src\XenusDt1Decompiler\XenusDt1Decompiler.csproj -c Release

```

–î–ª—è –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó –≥–æ—Ç–æ–≤–æ–≥–æ –±—ñ–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª—É –±–µ–∑ –∑–∞–π–≤–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π:

```powershell
dotnet publish .\src\XenusDt1Decompiler\XenusDt1Decompiler.csproj -c Release -r win-x86 --self-contained false

```

## üöÄ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

–ü—Ä–æ–≥—Ä–∞–º–∞ –ø—ñ–¥—Ç—Ä–∏–º—É—î —è–∫ –ø–æ—à—Ç—É—á–Ω—É –æ–±—Ä–æ–±–∫—É, —Ç–∞–∫ —ñ –º–∞—Å–æ–≤–µ –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è —Ü—ñ–ª–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π.

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å:

```powershell
.\XenusDt1Decompiler.exe <—à–ª—è—Ö_–¥–æ_—Ñ–∞–π–ª—É_–∞–±–æ_–ø–∞–ø–∫–∏> [–≤–∏—Ö—ñ–¥–Ω–∞_–ø–∞–ø–∫–∞] [—à–ª—è—Ö_–¥–æ_veloader.dll]

```

### –ü—Ä–∏–∫–ª–∞–¥–∏:

**1. –î–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è –æ–¥–Ω–æ–≥–æ —Ç–∞–π–ª—É –∫–∞—Ä—Ç–∏:**

```powershell
.\XenusDt1Decompiler.exe "C:\Games\Xenus 2\CACHE\TEXTURES\MAP\GROUP_0_0_BMP.DT1" ".\out_map"

```

**2. –ü–∞–∫–µ—Ç–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –≤—Å—ñ—Ö —Ç–µ–∫—Å—Ç—É—Ä –∫–∞—Ä—Ç–∏:**

```powershell
.\XenusDt1Decompiler.exe "C:\Games\Xenus 2\CACHE\TEXTURES\MAP" ".\out_map" "C:\Games\Xenus 2\VELoader.dll"

```

–†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –±—É–¥—É—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ —Ñ–∞–π–ª–∏ `.dds`, —è–∫—ñ –º–æ–∂–Ω–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Paint.NET, Photoshop –∞–±–æ GIMP.

## üì¶ –ù–æ—Ç–∞—Ç–∫–∏ –¥–ª—è –∫–æ–Ω—Ç—Ä–∏–±'—é—Ç–æ—Ä—ñ–≤

* **Game Assets:** –ö–∞—Ç–µ–≥–æ—Ä–∏—á–Ω–æ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ —ñ–≥—Ä–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏ (`.DT1`, `.DT2`, `.dds`, `.png`) —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π.
* **–ö–æ–º—ñ—Ç–∏:** –î–æ–¥–∞–≤–∞–π—Ç–µ –ª–∏—à–µ –≤–∏—Ö—ñ–¥–Ω–∏–π –∫–æ–¥, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é —Ç–∞ —Å–∫—Ä–∏–ø—Ç–∏ –∑–±—ñ—Ä–∫–∏.
* **–Ü–≥–Ω–æ—Ä—É–≤–∞–Ω–Ω—è:** –¢–∏–º—á–∞—Å–æ–≤—ñ –ø–∞–ø–∫–∏ `bin/`, `obj/` —Ç–∞ –ª–æ–∫–∞–ª—å–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è –≤–∂–µ –¥–æ–¥–∞–Ω—ñ –≤ `.gitignore`.
* **Contributing Guide:** –î–∏–≤. —Ñ–∞–π–ª `CONTRIBUTING.md`.
* **–õ—ñ—Ü–µ–Ω–∑—ñ—è:** `MIT` (–¥–∏–≤. `LICENSE`).

---

## ‚öñÔ∏è –í—ñ–¥–º–æ–≤–∞ –≤—ñ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ

–¶–µ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π —Å—Ç–≤–æ—Ä–µ–Ω–æ –≤–∏–∫–ª—é—á–Ω–æ –¥–ª—è –¥–æ—Å–ª—ñ–¥–Ω–∏—Ü—å–∫–∏—Ö —Ü—ñ–ª–µ–π —Ç–∞ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ—Å–µ –ø–æ–≤–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å –∑–∞ –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –º—ñ—Å—Ü–µ–≤–æ–≥–æ –∑–∞–∫–æ–Ω–æ–¥–∞–≤—Å—Ç–≤–∞ —Ç–∞ –ª—ñ—Ü–µ–Ω–∑—ñ–π–Ω–æ—ó —É–≥–æ–¥–∏ (EULA) –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ—ó –≥—Ä–∏ –ø—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ —ó—ó —Ñ–∞–π–ª—ñ–≤.
